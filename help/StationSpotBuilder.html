

<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="generator" content="HelpNDoc Professional Edition 7.9.1.631">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" href="favicon.ico"/>

  <title>Station Spot Builder</title>
  <meta name="description" content="" /> 
  <meta name="keywords" content="">



  

  <!-- Twitter Card data -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Station Spot Builder">
  <meta name="twitter:description" content="">

  <!-- Open Graph data -->
  <meta property="og:title" content="Station Spot Builder" />
  <meta property="og:type" content="article" />
  <meta property="og:description" content="" />
  <meta property="og:site_name" content="Counterpoint Help System" /> 

  <!-- Bootstrap core CSS -->
  <link href="vendors/bootstrap-3.4.1/css/bootstrap.min.css" rel="stylesheet"/>

  <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
  <link href="vendors/bootstrap-3.4.1/css/ie10-viewport-bug-workaround.css" rel="stylesheet"/>

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
      <script src="vendors/html5shiv-3.7.3/html5shiv.min.js"></script>
      <script src="vendors/respond-1.4.2/respond.min.js"></script>
    <![endif]-->

  <!-- JsTree styles -->
  <link href="vendors/jstree-3.3.10/themes/default/style.min.css" rel="stylesheet"/>

  <!-- Hnd styles -->
  <link href="css/layout.min.css" rel="stylesheet" />
  <link href="css/effects.min.css" rel="stylesheet" />
  <link href="css/theme-light-blue.min.css" rel="stylesheet" />
  <link href="css/print.min.css" rel="stylesheet" media="print" />
  <style type="text/css">nav { width: 350px} @media screen and (min-width:769px) { body.md-nav-expanded div#main { margin-left: 350px} body.md-nav-expanded header { padding-left: 364px} }</style>
  <style type="text/css">.navigation #inline-toc { width: auto !important}</style>

  <!-- Content style -->
  <link href="css/hnd.content.css" rel="stylesheet" />

  



</head>

<body class="md-nav-expanded">



  <div id="skip-link">
    <a href="#main-content" class="element-invisible">Skip to main content</a>
  </div>

  <header class="headroom">
    <button class="hnd-toggle btn btn-default">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span>        
    </button>
    <h1>Counterpoint Help System</h1>
    
  </header>

  <nav id="panel-left" class="md-nav-expanded">
    <!-- Nav tabs -->
    <ul class="tab-tabs nav nav-tabs" role="tablist">
      <li id="nav-close"> 
        <button class="hnd-toggle btn btn-default">
          <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
        </button>
      </li>
      
	  
        <li role="presentation" class="tab active">
            <a href="#contents" id="tab-contents" aria-controls="contents" role="tab" data-toggle="tab">
                <i class="glyphicon glyphicon-list"></i>
                Contents
            </a>
        </li>
      
        <li role="presentation" class="tab">
            <a href="#index" id="tab-index" aria-controls="index" role="tab" data-toggle="tab">
                <i class="glyphicon glyphicon-asterisk"></i>
                Index
            </a>
        </li>
      
        <li role="presentation" class="tab">
            <a href="#search" id="tab-search" aria-controls="search" role="tab" data-toggle="tab">
                <i class="glyphicon glyphicon-search"></i>
                Search
            </a>
        </li>
      
    </ul>  <!-- /Nav tabs -->

    <!-- Tab panes -->
    <div class="tab-content">
	  
      <div role="tabpanel" class="tab-pane active" id="contents">
        <div id="toc" class="tree-container unselectable"
            data-url="_toc.json"
            data-openlvl="1"
        >
            
        </div>
      </div>  <!-- /contents-->
      
      <div role="tabpanel" class="tab-pane" id="index">
        <div id="keywords" class="tree-container unselectable"
            data-url="_keywords.json"
            data-openlvl="1"
        >
            
        </div>
      </div>  <!-- /index-->
      
      <div role="tabpanel" class="tab-pane" id="search">
        <div class="search-content">
          <div class="search-input">
            <form id="search-form">
              <div class="form-group">
                <div class="input-group">
                  <input type="text" class="form-control" id="input-search" name="input-search" placeholder="Search..." />
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="submit">
                      <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
                    </button>
                  </span>
                </div>
              </div>
            </form>
          </div>  <!-- /search-input -->
          <div class="search-result">
            <div id="search-info"></div>
            <div class="tree-container unselectable" id="search-tree"></div>
          </div>  <!-- /search-result -->
        </div>  <!-- /search-content -->
      </div>  <!-- /search-->
      
    </div>  <!-- /Tab panes -->

  </nav>

  <div id="main">

    <article>
        <div id="topic-content" class="container-fluid" 
		  data-hnd-id="StationSpotBuilder"
		  data-hnd-context="495"
		  data-hnd-title="Station Spot Builder"
		>
            
                <div class="navigation">
                    <ol class="breadcrumb">
                        <li><a href="TrafficandAccountingSystem.html">Traffic and Accounting System</a></li><li><a href="TrafficUtilities.html">Traffic Utilities</a></li>
                    </ol>
                    <div class="nav-arrows">
                        <div class="btn-group btn-group" role="group"><a class="btn btn-default" href="TrafficUtilities.html" title="Traffic Utilities" role="button"><span class="glyphicon glyphicon-menu-up" aria-hidden="true"></span></a><a class="btn btn-default" href="SSFCheck.html" title="SSF Check" role="button"><span class="glyphicon glyphicon-menu-left" aria-hidden="true"></span></a><a class="btn btn-default" href="TaskMonitor.html" title="Task Monitor" role="button"><span class="glyphicon glyphicon-menu-right" aria-hidden="true"></span></a></div>
                    </div>
                </div> 
            

            <a id="main-content"></a>

            <h2>Station Spot Builder</h2>

            <div class="main-content">
                
<h2 class="rvps8"><span class="rvts0"><span class="rvts31">Overview</span></span></h2>
<p class="rvps2"><span class="rvts6">The Station Spot Builder is a standalone utility that creates Affiliate Spots (AST records), along with the associated copy (and split copy if applicable), after the log has been generated in the Traffic System. By creating the affiliate spots (and any copy splits/regional copy associated with them) in advance, the time it takes to generate affiliate spot exports and affiliate spot reports will be reduced, since the affiliate spots will have already been created in advance by the Station Spot Builder, and will not need to be created at the time of running the export or report.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">Once it has been started, the Station Spot Builder runs in the background and can simply be left running. When final or reprint logs are generated, the vehicles and dates generated will be added to a queue that gets processed automatically. Vehicles queued for processing or currently being processed will be viewable on the Station Spot Builder itself, or on the Station Spot Builder Status screen on the Affiliate System.&nbsp;</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">The Station Spot Builder can be monitored by the Task Monitor so that it will be apparent if it stops running.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">The picture below shows an example of the Station Spot Builder queue with tasks queued up that are about to be processed.</span></p>
<p class="rvps2"><img width="602" height="400" alt="" style="padding : 1px;" src="lib/NewItem1526.png"></p>
<h2 class="rvps8"><span class="rvts0"><span class="rvts31">Setup</span></span></h2>
<p class="rvps2"><span class="rvts6">There are three ways to run the Station Spot Builder: using CSI Server Manager, using Windows Task Scheduler, or as a standalone executable. Only one of the three methods should be used. Choose the method that works best for your configuration, and follow the setup instructions below for the chosen method.</span></p>
<h3 class="rvps11"><span class="rvts0"><span class="rvts34">CSI Server Manager Method</span></span></h3>
<p class="rvps2"><span class="rvts6">Follow these setup steps to configure the Station Spot Builder using the CSI Server Manager.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps4"><span class="rvts12">Navigate to the csi\prod\exe folder and open the CSI_Server.ini file with a text editor.</span></p>
<p class="rvps4"><span class="rvts12"><br/></span></p>
<p class="rvps4"><span class="rvts12">Near the top of file, in the “SectionNames” area, type in StationSpotBuilder after the names of the other programs already configured to on the CSI_Server.ini. After editing, it should look something like this (depending on what other programs are already configured on the CSI_Server.ini):</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">SectionNames = GetPaid, Efficio, StationSpotBuilder</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps4"><span class="rvts12">Add a StationSpotBuilder section to the CSI_Server.ini file by copying the text below to the end of the CSI_Server.ini file.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">[StationSpotBuilder]</span></p>
<p class="rvps2"><span class="rvts6">Enabled = 1</span></p>
<p class="rvps2"><span class="rvts6">WeekDays = 1111111</span></p>
<p class="rvps2"><span class="rvts6">StartTime = 6:00AM</span></p>
<p class="rvps2"><span class="rvts6">Interval = 86400</span></p>
<p class="rvps2"><span class="rvts6">Exe = x:\csi\prod\exe\stationspotbuilder.exe</span></p>
<p class="rvps2"><span class="rvts6">StartInFolder = x:\csi\prod\data</span></p>
<p class="rvps2"><span class="rvts6">CommandLine =&nbsp;</span></p>
<p class="rvps2"><span class="rvts6">KeepProgramRunning = 1</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps4"><span class="rvts12">Edit the Exe path on the copied text to point to the StationSpotBuilder.exe file in your csi\prod\exe folder.</span></p>
<p class="rvps4"><span class="rvts12"><br/></span></p>
<p class="rvps4"><span class="rvts12">Edit the StartInFolder path to point to the location of the affiliat.ini and traffic.ini file (typically in the Data folder).</span></p>
<p class="rvps4"><span class="rvts12"><br/></span></p>
<p class="rvps4"><span class="rvts12">Start the CSI Server Manager if it’s not already running by running CSI_Server_Mngr.exe from the Exe folder.&nbsp;</span></p>
<p class="rvps10"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">With this configuration on the CSI_Server.ini, the system will keep the program running in the background all the time.</span></p>
<h2 class="rvps8"><span class="rvts0"><span class="rvts31">Windows Task Scheduler Method</span></span></h2>
<p class="rvps2"><span class="rvts6">Windows Task Scheduler can be used as an alternative way of running the Station Spot Builder. Follow these steps to configure the Station Spot Builder to run using Task Scheduler.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<ol style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside;">
 <li class="rvps4"><span class="rvts12">Start Windows Task Scheduler and select “Create Task”.</span></li>
 <li class="rvps4"><span class="rvts12">Enter a name for the task in the name field, such as “Station Spot Builder”.</span></li>
 <li class="rvps4"><span class="rvts12">Press the Trigger tab and select New.</span></li>
 <li class="rvps4"><span class="rvts12">From the “Begin the Task” selection, chose “At Startup”, then press OK.</span></li>
 <li class="rvps4"><span class="rvts12">Press the Actions tab and select New.</span></li>
 <li class="rvps4"><span class="rvts12">The Action should be set to “Start a Program”. Press the Browse button and browse to the StationSpotBuilder.exe in the exe folder.</span></li>
 <li class="rvps4"><span class="rvts12">In the Start-In area, enter the location of the Traffic.ini and Affiliat.ini, typically csi\prod\data, then press OK.</span></li>
 <li class="rvps4"><span class="rvts12">Press the Settings tab.</span></li>
 <li class="rvps4"><span class="rvts12">Check on the option labeled “If the task fails, restart every:”, and set the restart time to 1 minute.</span></li>
 <li class="rvps4"><span class="rvts12">Deselect the option labeled “Stop the task if it runs longer than”.</span></li>
 <li class="rvps4"><span class="rvts12">Verify that “Do not start a new instance” is selected at the bottom of the screen, and press OK to finish creating the task.</span></li>
 <li class="rvps4"><span class="rvts12">You can now start the task by selecting it from the list and choosing Run. It will also start automatically each time the computer it is on is restarted.</span></li>
</ol>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">With Windows Task Scheduler, using the configuration steps listed above, the Station Spot Builder will keep running in the background. If for some reason it stops running, Task Scheduler will check every minute and start it again if it’s not running.&nbsp;</span></p>
<h2 class="rvps8"><span class="rvts0"><span class="rvts31">Standalone Executable (Shortcut) Method&nbsp;</span></span></h2>
<p class="rvps2"><span class="rvts6">The Station Spot Builder can also be run as a standalone executable on a PC. This method is primarily for testing, as it requires manually starting the utility and has no feature to ensure that it is kept running. The other two methods, described later in this document, will automatically start the utility and keep it running should it get terminated for some reason.&nbsp;</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">To use the Station Spot Builder as a standalone executable, follow these steps:</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<ol style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside;">
 <li class="rvps4"><span class="rvts12">Create a shortcut on a PC that will be used to launch the program. (Note: this system must already have been configured with the required Counterpoint system files.)</span></li>
 <li class="rvps4"><span class="rvts12">Edit the shortcut, setting the “Target” to point to the StationSpotBuilder.exe in the csi\prod\exe folder.</span></li>
 <li class="rvps4"><span class="rvts12">Edit the “Start in” to point to the location of the traffic.ini and affiliat.ini file (generally in the csi\prod\data folder).</span></li>
 <li class="rvps4"><span class="rvts12">After creating the shortcut, double click on Station Spot Builder shortcut, and the utility will begin running. You can leave the window open while working, or minimize it.&nbsp;</span></li>
</ol>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">This method should only be used for testing. Set up the Station Spot Builder to be run by the CSI Server Manager or Windows Task Scheduler for production system use.</span></p>
<h2 class="rvps8"><span class="rvts0"><span class="rvts31">Setting up the Task Monitor to Monitor the Status of the Station Spot Builder</span></span></h2>
<p class="rvps2"><span class="rvts6">Use the Task Monitor to monitor that the status of the Station Spot Builder. With the Task Monitor monitoring the status of the Station Spot Builder, if the system is able to communicate with the Station Spot Builder, the “SSB” (Station Spot Builder) notification in the title bar of the Traffic and Affiliate system will be green, as shown below.</span></p>
<p class="rvps2"><img alt="" style="padding : 1px;" src="lib/NewItem1525.png"></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">If the Station Spot Builder stopped running for some reason, the “SSB” notification in the title bar of the Traffic and Affiliate system will turn red, indicating that the system is no longer in communication with the Station Spot Builder, as shown below.</span></p>
<p class="rvps2"><img alt="" style="padding : 1px;" src="lib/NewItem1524.png"></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">To configure the Station Spot Builder for monitoring by the Task Monitor, launch the “Monitor Setup” program using the shortcut. For the Station Spot Builder task, set the “Service” setting to “CSI Service” or “Task Scheduler”, and set the “Run” setting to “Continuous”.&nbsp;</span></p>
<p class="rvps2"><img width="624" height="94" alt="" style="padding : 1px;" src="lib/NewItem1523.png"></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">After configuring these settings, press Save and close the Monitor Setup program. The Station Spot Builder will now be configured for monitoring by the Task Monitor.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">For additional information on the Task Monitor, see the “Traffic Utilities” or “Affiliate Utilities” help documents available on the Counterpoint website.</span></p>
<h2 class="rvps8"><span class="rvts0"><span class="rvts31">Station Spot Builder Information</span></span></h2>
<p class="rvps2"><span class="rvts6">Once the Station Spot Builder has been started, if it was configured correctly, it will be in constant communication with the Traffic and Affiliate system.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">When logs are printed or agreements changed so that affiliate spots need to be created, the Station Spot Builder will queue up the tasks for processing then process them automatically, creating the affiliate spots in advance so that when affiliate exports or affiliate spot reports are run, the affiliate spots will have already been created.</span></p>
<h2 class="rvps8"><span class="rvts0"><span class="rvts31">Station Spot Builder Status Menu</span></span></h2>
<p class="rvps2"><span class="rvts6">To see a list of tasks either being processed by the Station Spot Builder, or that are waiting to be processed, or that have been processed using the selected “Entered From Date” and “Entered To Date”, &nbsp;select “Station Spot Builder Status” from the Affiliate-&gt;File menu to bring up the Station Spot Builder Status screen (shown below). These dates can be changed if needed. The Refresh button when pressed will refresh the list of tasks (it also refreshes automatically when launching this screen).</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><img width="608" height="140" alt="" style="padding : 1px;" src="lib/NewItem1522.png"></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">Each task displays the following:</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;">
 <li class="rvps4"><span class="rvts11">Vehicle name</span><span class="rvts12">: the name of the vehicle that the task is for.</span></li>
 <li class="rvps4"><span class="rvts11">Station name</span><span class="rvts12">: when an agreement is entered or changed and affiliate spots need to be created for the station, the station will be shown here.</span></li>
 <li class="rvps4"><span class="rvts11">Status</span><span class="rvts12">: the available values are On Hold/Not Ready (the task is being added to the queue and is not yet ready), Ready (waiting to process), Processing (being processed) and Completed.</span></li>
 <li class="rvps4"><span class="rvts11">Source</span><span class="rvts12">: the available values are Log and Agreement. When the log was generated, triggering the need to create affiliate spots, it will show “Log” in this field. If an agreement was changed or added in such a way that it triggered the need to create affiliate spots, it will show “Agreement” here.</span></li>
 <li class="rvps4"><span class="rvts11">Spot Dates</span><span class="rvts12">: the date range of affiliate spots.</span></li>
 <li class="rvps4"><span class="rvts11">Entered</span><span class="rvts12">: the date and time the task was added to the Station Spot Builder queue.</span></li>
 <li class="rvps4"><span class="rvts11">Completed</span><span class="rvts12">: the date and time the task was completed (this will be blank if the task has not yet been completed).</span></li>
</ul>
<h2 class="rvps8"><span class="rvts0"><span class="rvts31">When the Station Spot Builder is Not Running</span></span></h2>
<p class="rvps2"><span class="rvts6">If the Station Spot Builder is not running when logs are generated, the affiliate spots will not be created through the Station Spot Builder. Instead, the affiliate spots will be created as needed when affiliate spot exports are run, when affiliate spot reports are run, or when viewing affiliate spots on the Affiliate Affidavits screen or other Affiliate system screens, in the way that the system worked before the Station Spot Builder feature was added. If the Station Spot Builder is not running when logs are generated, there will not be any of the speed benefits that come with using the Station Spot Builder, but the system will still function correctly, creating the affiliate spots on as needed basis instead of in advance.&nbsp;</span></p>
<p class="rvps2"><span class="rvts6">Should the Station Spot Builder stop running, the time that it stopped will appear on the Affiliate Error Log, which can be reviewed in the Affiliate-&gt;Accessories-&gt;Messages Viewer. Note that if the Spot Builder is manually shut down by a user, the shutdown will not be logged.&nbsp;</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">To start the Station Spot Builder again when it’s stopped running, launch the Station Spot Builder shortcut. It is also possible to configure the Station Spot Builder to start itself again automatically if it shuts down when configuring the task in the CSI Server Manager or Windows Task Scheduler, as explained above, although this feature is not available when running the Station Spot Builder as a standalone executable (shortcut method).</span></p>
<p class="rvps12"><span class="rvts6"></span><span class="rvts6"></span></p>

            </div>
            
            
        </div>  <!-- /#topic-content -->
    </article>

    <footer></footer>

  </div>  <!-- /#main -->

  <div class="mask" data-toggle="sm-nav-expanded"></div>
  
  <!-- Modal -->
  <div class="modal fade" id="hndModal" tabindex="-1" role="dialog" aria-labelledby="hndModalLabel">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="hndModalLabel"></h4>
        </div>
        <div class="modal-body">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary modal-btn-close" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Splitter -->
  <div id="hnd-splitter" style="left: 350px"></div>  

  <!-- Scripts -->
  <script src="vendors/jquery-3.5.1/jquery.min.js"></script>
  <script src="vendors/bootstrap-3.4.1/js/bootstrap.min.js"></script>
  <script src="vendors/bootstrap-3.4.1/js/ie10-viewport-bug-workaround.js"></script>
  <script src="vendors/markjs-8.11.1/jquery.mark.min.js"></script>
  <script src="vendors/uri-1.19.2/uri.min.js"></script>
  <script src="vendors/imageMapResizer-1.0.10/imageMapResizer.min.js"></script>
  <script src="vendors/headroom-0.11.0/headroom.min.js"></script>
  <script src="vendors/jstree-3.3.10/jstree.min.js"></script>  
  <script src="vendors/interactjs-1.9.22/interact.min.js"></script>  

  <!-- HelpNDoc scripts -->
  <script src="js/polyfill.object.min.js"></script>
  <script src="_translations.js"></script>
  <script src="js/hndsd.min.js"></script>
  <script src="js/hndse.min.js"></script>
  <script src="js/app.min.js"></script>

  <!-- Init script -->
  <script>
    $(function() {
      // Create the app
      var app = new Hnd.App({
        searchEngineMinChars: 3
      });
      // Update translations
      hnd_ut(app);
	  // Instanciate imageMapResizer
	  imageMapResize();
	  // Custom JS
	  
      // Boot the app
      app.Boot();
    });
  </script>



</body>

</html>

