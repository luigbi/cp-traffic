

<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="generator" content="HelpNDoc Professional Edition 7.9.1.631">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" href="favicon.ico"/>

  <title>Affiliate Report Queue</title>
  <meta name="description" content="" /> 
  <meta name="keywords" content="">



  

  <!-- Twitter Card data -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Affiliate Report Queue">
  <meta name="twitter:description" content="">

  <!-- Open Graph data -->
  <meta property="og:title" content="Affiliate Report Queue" />
  <meta property="og:type" content="article" />
  <meta property="og:description" content="" />
  <meta property="og:site_name" content="Counterpoint Help System" /> 

  <!-- Bootstrap core CSS -->
  <link href="vendors/bootstrap-3.4.1/css/bootstrap.min.css" rel="stylesheet"/>

  <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
  <link href="vendors/bootstrap-3.4.1/css/ie10-viewport-bug-workaround.css" rel="stylesheet"/>

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
      <script src="vendors/html5shiv-3.7.3/html5shiv.min.js"></script>
      <script src="vendors/respond-1.4.2/respond.min.js"></script>
    <![endif]-->

  <!-- JsTree styles -->
  <link href="vendors/jstree-3.3.10/themes/default/style.min.css" rel="stylesheet"/>

  <!-- Hnd styles -->
  <link href="css/layout.min.css" rel="stylesheet" />
  <link href="css/effects.min.css" rel="stylesheet" />
  <link href="css/theme-light-blue.min.css" rel="stylesheet" />
  <link href="css/print.min.css" rel="stylesheet" media="print" />
  <style type="text/css">nav { width: 350px} @media screen and (min-width:769px) { body.md-nav-expanded div#main { margin-left: 350px} body.md-nav-expanded header { padding-left: 364px} }</style>
  <style type="text/css">.navigation #inline-toc { width: auto !important}</style>

  <!-- Content style -->
  <link href="css/hnd.content.css" rel="stylesheet" />

  



</head>

<body class="md-nav-expanded">



  <div id="skip-link">
    <a href="#main-content" class="element-invisible">Skip to main content</a>
  </div>

  <header class="headroom">
    <button class="hnd-toggle btn btn-default">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span>        
    </button>
    <h1>Counterpoint Help System</h1>
    
  </header>

  <nav id="panel-left" class="md-nav-expanded">
    <!-- Nav tabs -->
    <ul class="tab-tabs nav nav-tabs" role="tablist">
      <li id="nav-close"> 
        <button class="hnd-toggle btn btn-default">
          <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
        </button>
      </li>
      
	  
        <li role="presentation" class="tab active">
            <a href="#contents" id="tab-contents" aria-controls="contents" role="tab" data-toggle="tab">
                <i class="glyphicon glyphicon-list"></i>
                Contents
            </a>
        </li>
      
        <li role="presentation" class="tab">
            <a href="#index" id="tab-index" aria-controls="index" role="tab" data-toggle="tab">
                <i class="glyphicon glyphicon-asterisk"></i>
                Index
            </a>
        </li>
      
        <li role="presentation" class="tab">
            <a href="#search" id="tab-search" aria-controls="search" role="tab" data-toggle="tab">
                <i class="glyphicon glyphicon-search"></i>
                Search
            </a>
        </li>
      
    </ul>  <!-- /Nav tabs -->

    <!-- Tab panes -->
    <div class="tab-content">
	  
      <div role="tabpanel" class="tab-pane active" id="contents">
        <div id="toc" class="tree-container unselectable"
            data-url="_toc.json"
            data-openlvl="1"
        >
            
        </div>
      </div>  <!-- /contents-->
      
      <div role="tabpanel" class="tab-pane" id="index">
        <div id="keywords" class="tree-container unselectable"
            data-url="_keywords.json"
            data-openlvl="1"
        >
            
        </div>
      </div>  <!-- /index-->
      
      <div role="tabpanel" class="tab-pane" id="search">
        <div class="search-content">
          <div class="search-input">
            <form id="search-form">
              <div class="form-group">
                <div class="input-group">
                  <input type="text" class="form-control" id="input-search" name="input-search" placeholder="Search..." />
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="submit">
                      <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
                    </button>
                  </span>
                </div>
              </div>
            </form>
          </div>  <!-- /search-input -->
          <div class="search-result">
            <div id="search-info"></div>
            <div class="tree-container unselectable" id="search-tree"></div>
          </div>  <!-- /search-result -->
        </div>  <!-- /search-content -->
      </div>  <!-- /search-->
      
    </div>  <!-- /Tab panes -->

  </nav>

  <div id="main">

    <article>
        <div id="topic-content" class="container-fluid" 
		  data-hnd-id="AffiliateReportQueue"
		  data-hnd-context="623"
		  data-hnd-title="Affiliate Report Queue"
		>
            
                <div class="navigation">
                    <ol class="breadcrumb">
                        <li><a href="AffiliateSystem.html">Affiliate System</a></li><li><a href="AffiliateUtilities.html">Affiliate Utilities</a></li>
                    </ol>
                    <div class="nav-arrows">
                        <div class="btn-group btn-group" role="group"><a class="btn btn-default" href="AffiliateUtilities.html" title="Affiliate Utilities" role="button"><span class="glyphicon glyphicon-menu-up" aria-hidden="true"></span></a><a class="btn btn-default" href="AffiliateMeasurement.html" title="Affiliate Measurement" role="button"><span class="glyphicon glyphicon-menu-left" aria-hidden="true"></span></a><a class="btn btn-default" href="AffiliateAlerts.html" title="Affiliate Alerts" role="button"><span class="glyphicon glyphicon-menu-right" aria-hidden="true"></span></a></div>
                    </div>
                </div> 
            

            <a id="main-content"></a>

            <h2>Affiliate Report Queue</h2>

            <div class="main-content">
                
<p class="rvps2"><span class="rvts6">The Report Queue allows Affiliate reports to run in the background, so users can accomplish other tasks while reports are generating. A standalone program constantly runs in the background, checking to see if any reports need to be generated. When it finds a report, it generates it based on the selectivity that is stored when “Send to Queue” is clicked.&nbsp;</span></p>
<h2 class="rvps8"><span class="rvts0"><span class="rvts31">Setup</span></span></h2>
<p class="rvps2"><span class="rvts6">The Report Queue program can be set up one of three ways:</span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;">
 <li class="rvps163"><span class="rvts12">From the database server by creating an entry in the CSI_Server.ini</span></li>
 <li class="rvps163"><span class="rvts12">From a standalone PC using Windows Task Scheduler&nbsp;</span></li>
 <li class="rvps163"><span class="rvts12">From the Affiliate System File menu</span></li>
</ul>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<h3 class="rvps11"><span class="rvts0"><span class="rvts34">CSI Server Method</span></span></h3>
<p class="rvps2"><span class="rvts6">The CSI Server Manager can be used to run the Report Queue. Follow these setup steps to configure the Station Spot Builder using the CSI Server Manager.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">Note:&nbsp;</span><br/><span class="rvts6">Use csi_Server_Mngr to startup csi_Server if not already running.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps163"><span class="rvts12">Navigate to the csi\prod\exe folder and open the CSI_Server.ini file with a text editor.</span></p>
<p class="rvps163"><span class="rvts12"><br/></span></p>
<p class="rvps163"><span class="rvts12">Near the top of file, in the “SectionNames” area, type in AffiliateReportQueue after the names of the other programs already configured to on the CSI_Server.ini. After editing, it may look something like this (depending on what other programs are already configured on the CSI_Server.ini):</span></p>
<p class="rvps163"><span class="rvts12"><br/></span></p>
<p class="rvps163"><span class="rvts12">SectionNames = GetPaid, Efficio, AffiliateReportQueue</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps163"><span class="rvts12">Add an Affiliate Report Queue section to the CSI_Server.ini file by copying the text below to the end of the CSI_Server.ini file.</span></p>
<p class="rvps2"><span class="rvts6"></span><br/><span class="rvts6">Example:</span><br/><span class="rvts82">[AffiliateReportQueue]</span></p>
<p class="rvps2"><span class="rvts82">‘0=Off; 1=On</span></p>
<p class="rvps2"><span class="rvts82">Enabled = 1</span></p>
<p class="rvps2"><span class="rvts82">‘0=Off; 1=On</span></p>
<p class="rvps2"><span class="rvts82">WeekDays = 1111111</span></p>
<p class="rvps2"><span class="rvts82">Interval = 86400</span></p>
<p class="rvps2"><span class="rvts82">StartTime =&nbsp;</span></p>
<p class="rvps2"><span class="rvts82">MonthDaysToRun =&nbsp;</span></p>
<p class="rvps2"><span class="rvts82">TimeSlot =&nbsp;</span></p>
<p class="rvps2"><span class="rvts82">Exe = C:\CSI\Prod\EXE\StartAffiliateExportQueue.exe</span><br/><span class="rvts82">StartInFolder = C:\CSI\Prod\Data</span></p>
<p class="rvps2"><span class="rvts82">CommandLine =&nbsp;</span></p>
<p class="rvps2"><span class="rvts82">‘1=Program will check once each hour to verify that it is still running</span></p>
<p class="rvps2"><span class="rvts82">KeepProgramRunning = 1</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps163"><span class="rvts12">Edit the Exe path on the copied text to point to the affiliatereportqueue.exe file in your csi\prod\exe folder (the drive letter among other things may need to be edited).</span></p>
<p class="rvps163"><span class="rvts12"><br/></span></p>
<p class="rvps163"><span class="rvts12">Edit the StartInFolder path to point to the location of the affiliat.ini and traffic.ini file (typically in the Data folder).</span></p>
<p class="rvps163"><span class="rvts12"><br/></span></p>
<p class="rvps163"><span class="rvts12">Start the CSI Server Manager if it’s not already running by running CSI_Server_Mgr from the Exe folder.&nbsp;</span></p>
<p class="rvps10"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">With this configuration on the CSI_Server.ini, the system will keep the program running in the background all the time.</span></p>
<h3 class="rvps11"><span class="rvts0"><span class="rvts34">Windows Task Scheduler Method</span></span></h3>
<p class="rvps2"><span class="rvts6">Windows Task Scheduler can be used as an alternative way of running the Report Queue. Follow these steps to configure the Affiliate Report Queue to run using Task Scheduler.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<ol style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside;">
 <li class="rvps163"><span class="rvts12">Start Windows Task Scheduler and select “Create Task”.</span></li>
 <li class="rvps163"><span class="rvts12">Enter a name for the task in the name field, such as “Affiliate Report Queue”.</span></li>
 <li class="rvps163"><span class="rvts12">Press the Trigger tab and select New.</span></li>
 <li class="rvps163"><span class="rvts12">From the “Begin the Task” selection, chose “At Startup”, then press OK.</span></li>
 <li class="rvps163"><span class="rvts12">Press the Actions tab and select New.</span></li>
 <li class="rvps163"><span class="rvts12">The Action should be set to “Start a Program”. Press the Browse button and browse to the affiliate reportqueue.exe in the exe folder.</span></li>
 <li class="rvps163"><span class="rvts12">In the Start-In area, enter the location of the Traffic.ini and Affiliat.ini, typically csi\prod\data, and then press OK.</span></li>
 <li class="rvps163"><span class="rvts12">Press the Settings tab.</span></li>
 <li class="rvps163"><span class="rvts12">Check on the option labeled “If the task fails, restart every:”, and set the restart time to 1 minute.</span></li>
 <li class="rvps163"><span class="rvts12">Deselect the option labeled “Stop the task if it runs longer than”.</span></li>
 <li class="rvps163"><span class="rvts12">Verify that “Do not start a new instance” is selected at the bottom of the screen, and press OK to finish creating the task.</span></li>
 <li class="rvps163"><span class="rvts12">You can now start the task by selecting it from the list and choosing Run. It will also start automatically each time the computer it is on is restarted.</span></li>
</ol>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">With Windows Task Scheduler, using the configuration steps listed above, the Report Queue will keep running in the background. If for some reason it stops running, Task Scheduler will check every minute and start it again if it’s not running.&nbsp;</span></p>
<h3 class="rvps11"><span class="rvts0"><span class="rvts34">Report Queue Shortcut Method</span></span></h3>
<p class="rvps2"><span class="rvts6">The Report Queue can also be started using a shortcut.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">Set the Target to the “AffiliateReportQueue.exe” file in the exe folder.</span></p>
<p class="rvps2"><span class="rvts6">Set the Start in to the location of the Traffic.ini and affiliat.ini files (typically the data folder).</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">Then launch the Report Queue by double clicking the shortcut.</span></p>
<h3 class="rvps11"><span class="rvts0"><span class="rvts34">User Setup</span></span></h3>
<p class="rvps2"><span class="rvts6">Currently, to allow a user to have the ability to send reports to the Report Queue, they must start the Affiliate System with a specially modified shortcut.&nbsp;</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">To modify their shortcut to allow access, a “ /Q” (space /Q) must be added to the Affiliate system shortcut, as shown in the example below.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><img alt="" style="padding : 1px;" src="lib/NewItem1997.png"></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">The priority order in which reports generate is based on the order in which they were sent to the queue. A user can override that order and change a report’s priority, or remove it from the queue all together, if given access to do so.&nbsp;</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">To allow a user to remove a report or change the priority of queued reports, go to the User Options screen and set the “override export queue priority” setting (on the Restrictions tab) to green.</span></p>
<h2 class="rvps8"><span class="rvts0"><span class="rvts31">Sending Reports to the Report Queue</span></span></h2>
<p class="rvps2"><span class="rvts6">For users with access to the Report Queue (through the specially modified shortcut), a “Send to Queue” button will be available on the Advertiser Clearance report selectivity screen, to the right of the “Generate Report” button. (The Report Queue must be running to successfully generate reports using the Report Queue.)</span></p>
<p class="rvps2"><img width="559" height="188" alt="" style="padding : 1px;" src="lib/NewItem1996.png"></p>
<h4 class="rvps15"><span class="rvts0"><span class="rvts45">To generate the report using the queue:</span></span></h4>
<ol style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside;">
 <li class="rvps163"><span class="rvts12">Fill in the desired report selectivity, and select either Print or File for the Report Destination selection field. (Reports can only be sent to the Queue when Print or File is selected.)</span></li>
 <li class="rvps163"><span class="rvts12">Press the Send to Queue button.</span></li>
 <li class="rvps163"><span class="rvts12">A popup screen will appear that allows the user to enter a descriptive title for the report in the Description field. Enter a description for the report, then press the Add to Queue button. This will add the report to the report queue, where it will be generated when it reaches the top of the queue. The finished report will be either be printed or placed in the export folder, depending on whether the report destination was set to Print or File.</span></li>
</ol>
<h2 class="rvps8"><span class="rvts0"><span class="rvts31">Viewing the Report Queue Status Screen</span></span></h2>
<p class="rvps2"><span class="rvts6">To view the status of tasks sent to the Report Queue, press the File menu then press “Report Queue Status”.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><img width="621" height="46" alt="" style="padding : 1px;" src="lib/NewItem1995.png"></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">The following list describes what each field on the Report Queue Status screen means:</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;">
 <li class="rvps163"><span class="rvts12">Report Name: This is the name of the Affiliate report.</span></li>
 <li class="rvps163"><span class="rvts12">User: This is the name of the user that sent the report to the Report Queue.</span></li>
 <li class="rvps163"><span class="rvts12">Priority: This is the priority number given to the report, based on when the report was sent to the Queue. Only users with the appropriate access can change the priority of the queue.</span></li>
 <li class="rvps163"><span class="rvts12">Status: This is the current status of the report: Requested, Processing, or Completed.</span></li>
 <li class="rvps163"><span class="rvts12">Requested: This is the date and time at which the report was requested.</span></li>
 <li class="rvps163"><span class="rvts12">Started: This is the date and time at which the report started processing.</span></li>
 <li class="rvps163"><span class="rvts12">Completed: This is the date and time at which the report completed.</span></li>
</ul>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">Clicking in the far right column will stop a report from being generated. Users must have the appropriate access to remove a report from the queue.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">The Refresh button can be pressed to refresh the status of the items on the screen.</span></p>
<p class="rvps12"><span class="rvts6"></span><span class="rvts6"></span></p>

            </div>
            
            
        </div>  <!-- /#topic-content -->
    </article>

    <footer></footer>

  </div>  <!-- /#main -->

  <div class="mask" data-toggle="sm-nav-expanded"></div>
  
  <!-- Modal -->
  <div class="modal fade" id="hndModal" tabindex="-1" role="dialog" aria-labelledby="hndModalLabel">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="hndModalLabel"></h4>
        </div>
        <div class="modal-body">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary modal-btn-close" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Splitter -->
  <div id="hnd-splitter" style="left: 350px"></div>  

  <!-- Scripts -->
  <script src="vendors/jquery-3.5.1/jquery.min.js"></script>
  <script src="vendors/bootstrap-3.4.1/js/bootstrap.min.js"></script>
  <script src="vendors/bootstrap-3.4.1/js/ie10-viewport-bug-workaround.js"></script>
  <script src="vendors/markjs-8.11.1/jquery.mark.min.js"></script>
  <script src="vendors/uri-1.19.2/uri.min.js"></script>
  <script src="vendors/imageMapResizer-1.0.10/imageMapResizer.min.js"></script>
  <script src="vendors/headroom-0.11.0/headroom.min.js"></script>
  <script src="vendors/jstree-3.3.10/jstree.min.js"></script>  
  <script src="vendors/interactjs-1.9.22/interact.min.js"></script>  

  <!-- HelpNDoc scripts -->
  <script src="js/polyfill.object.min.js"></script>
  <script src="_translations.js"></script>
  <script src="js/hndsd.min.js"></script>
  <script src="js/hndse.min.js"></script>
  <script src="js/app.min.js"></script>

  <!-- Init script -->
  <script>
    $(function() {
      // Create the app
      var app = new Hnd.App({
        searchEngineMinChars: 3
      });
      // Update translations
      hnd_ut(app);
	  // Instanciate imageMapResizer
	  imageMapResize();
	  // Custom JS
	  
      // Boot the app
      app.Boot();
    });
  </script>



</body>

</html>

