

<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="generator" content="HelpNDoc Professional Edition 7.9.1.631">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" href="favicon.ico"/>

  <title>Ad Server Billing Discrepancy</title>
  <meta name="description" content="" /> 
  <meta name="keywords" content="">



  

  <!-- Twitter Card data -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Ad Server Billing Discrepancy">
  <meta name="twitter:description" content="">

  <!-- Open Graph data -->
  <meta property="og:title" content="Ad Server Billing Discrepancy" />
  <meta property="og:type" content="article" />
  <meta property="og:description" content="" />
  <meta property="og:site_name" content="Counterpoint Help System" /> 

  <!-- Bootstrap core CSS -->
  <link href="vendors/bootstrap-3.4.1/css/bootstrap.min.css" rel="stylesheet"/>

  <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
  <link href="vendors/bootstrap-3.4.1/css/ie10-viewport-bug-workaround.css" rel="stylesheet"/>

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
      <script src="vendors/html5shiv-3.7.3/html5shiv.min.js"></script>
      <script src="vendors/respond-1.4.2/respond.min.js"></script>
    <![endif]-->

  <!-- JsTree styles -->
  <link href="vendors/jstree-3.3.10/themes/default/style.min.css" rel="stylesheet"/>

  <!-- Hnd styles -->
  <link href="css/layout.min.css" rel="stylesheet" />
  <link href="css/effects.min.css" rel="stylesheet" />
  <link href="css/theme-light-blue.min.css" rel="stylesheet" />
  <link href="css/print.min.css" rel="stylesheet" media="print" />
  <style type="text/css">nav { width: 350px} @media screen and (min-width:769px) { body.md-nav-expanded div#main { margin-left: 350px} body.md-nav-expanded header { padding-left: 364px} }</style>
  <style type="text/css">.navigation #inline-toc { width: auto !important}</style>

  <!-- Content style -->
  <link href="css/hnd.content.css" rel="stylesheet" />

  



</head>

<body class="md-nav-expanded">



  <div id="skip-link">
    <a href="#main-content" class="element-invisible">Skip to main content</a>
  </div>

  <header class="headroom">
    <button class="hnd-toggle btn btn-default">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span>        
    </button>
    <h1>Counterpoint Help System</h1>
    
  </header>

  <nav id="panel-left" class="md-nav-expanded">
    <!-- Nav tabs -->
    <ul class="tab-tabs nav nav-tabs" role="tablist">
      <li id="nav-close"> 
        <button class="hnd-toggle btn btn-default">
          <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
        </button>
      </li>
      
	  
        <li role="presentation" class="tab active">
            <a href="#contents" id="tab-contents" aria-controls="contents" role="tab" data-toggle="tab">
                <i class="glyphicon glyphicon-list"></i>
                Contents
            </a>
        </li>
      
        <li role="presentation" class="tab">
            <a href="#index" id="tab-index" aria-controls="index" role="tab" data-toggle="tab">
                <i class="glyphicon glyphicon-asterisk"></i>
                Index
            </a>
        </li>
      
        <li role="presentation" class="tab">
            <a href="#search" id="tab-search" aria-controls="search" role="tab" data-toggle="tab">
                <i class="glyphicon glyphicon-search"></i>
                Search
            </a>
        </li>
      
    </ul>  <!-- /Nav tabs -->

    <!-- Tab panes -->
    <div class="tab-content">
	  
      <div role="tabpanel" class="tab-pane active" id="contents">
        <div id="toc" class="tree-container unselectable"
            data-url="_toc.json"
            data-openlvl="1"
        >
            
        </div>
      </div>  <!-- /contents-->
      
      <div role="tabpanel" class="tab-pane" id="index">
        <div id="keywords" class="tree-container unselectable"
            data-url="_keywords.json"
            data-openlvl="1"
        >
            
        </div>
      </div>  <!-- /index-->
      
      <div role="tabpanel" class="tab-pane" id="search">
        <div class="search-content">
          <div class="search-input">
            <form id="search-form">
              <div class="form-group">
                <div class="input-group">
                  <input type="text" class="form-control" id="input-search" name="input-search" placeholder="Search..." />
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="submit">
                      <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
                    </button>
                  </span>
                </div>
              </div>
            </form>
          </div>  <!-- /search-input -->
          <div class="search-result">
            <div id="search-info"></div>
            <div class="tree-container unselectable" id="search-tree"></div>
          </div>  <!-- /search-result -->
        </div>  <!-- /search-content -->
      </div>  <!-- /search-->
      
    </div>  <!-- /Tab panes -->

  </nav>

  <div id="main">

    <article>
        <div id="topic-content" class="container-fluid" 
		  data-hnd-id="AdServerBillingDiscrepancy"
		  data-hnd-context="409"
		  data-hnd-title="Ad Server Billing Discrepancy"
		>
            
                <div class="navigation">
                    <ol class="breadcrumb">
                        <li><a href="TrafficandAccountingSystem.html">Traffic and Accounting System</a></li><li><a href="TrafficExports.html">Traffic Exports</a></li>
                    </ol>
                    <div class="nav-arrows">
                        <div class="btn-group btn-group" role="group"><a class="btn btn-default" href="TrafficExports.html" title="Traffic Exports" role="button"><span class="glyphicon glyphicon-menu-up" aria-hidden="true"></span></a><a class="btn btn-default" href="AccountingExport.html" title="Accounting Export" role="button"><span class="glyphicon glyphicon-menu-left" aria-hidden="true"></span></a><a class="btn btn-default" href="AirWave.html" title="AirWave" role="button"><span class="glyphicon glyphicon-menu-right" aria-hidden="true"></span></a></div>
                    </div>
                </div> 
            

            <a id="main-content"></a>

            <h2>Ad Server Billing Discrepancy</h2>

            <div class="main-content">
                
<p class="rvps2"><span class="rvts6">The Ad Server Billing Discrepancy Export is run by month and year and is used to compare the number of impressions ordered against the number of posted impressions, calculate the difference, and show a status of “Missing” if there are no posted impressions for the month, for Ad Server contract lines (version 8.1 and above).</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">To run the export, from within the Traffic system, go to Task -&gt; Export, and select the Ad Server Billing Discrepancy Export. Enter the month (using a three letter abbreviation or the number 1 through 12) and year to run the export for, then press the Export button to generate the export.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><img width="643" height="238" alt="" style="padding : 1px;" src="lib/NewItem1307.png"></p>
<h2 class="rvps8"><span class="rvts0"><span class="rvts31">Automated Task Setup Instructions</span></span></h2>
<p class="rvps2"><span class="rvts6">This export can also be run as an automated task using the Exports.ini to configure the export parameters, and Windows Task Scheduler to run the export on a schedule. It can also be configured to upload the export file to an Amazon S3 web bucket.&nbsp;</span></p>
<h3 class="rvps11"><span class="rvts0"><span class="rvts34">Exports.ini Setup</span></span></h3>
<p class="rvps2"><span class="rvts6">The Exports.ini file, which is typically placed in the csi\prod\data folder (where the Traffic.ini file is also typically located), is used to configure the export settings that will be used by the automated export. This file must be created using a text editor if it doesn’t already exist.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">Exports.ini example:&nbsp;</span></p>
<p class="rvps2"><span class="rvts82">[PodBillDisc]&nbsp;</span></p>
<p class="rvps2"><span class="rvts82">;StartPeriod=1</span></p>
<p class="rvps2"><span class="rvts82">Export=d:\csi\prod\export</span></p>
<p class="rvps2"><span class="rvts82">BucketName=exampleBucket</span></p>
<p class="rvps2"><span class="rvts82">BucketFolder=exports</span></p>
<p class="rvps2"><span class="rvts82">Region=exampleName</span></p>
<p class="rvps2"><span class="rvts82">AccessKey=1234</span></p>
<p class="rvps2"><span class="rvts82">PrivateKey=xyz</span></p>
<p class="rvps2"><span class="rvts82">KeepLocalFile=No</span></p>
<p class="rvps2"><span class="rvts82"><br/></span></p>
<p class="rvps2"><span class="rvts6">The values on the Exports.ini are as follows:&nbsp;</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts32">StartPeriod:</span><span class="rvts6"> This is an optional setting. If it’s not defined, it will use the current month and year. If it is defined, the number of months specified as the “StartPeriod” value will be subtracted from the current month number to determine the starting month number.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts32">Export:</span><span class="rvts6"> The location where the export file should be created.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts32">BucketName:</span><span class="rvts6"> The name of the Amazon bucket you wish to upload the exported file to.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts32">Region</span><span class="rvts6">: Enter the AWS Region the Amazon bucket was created in. Supported regions: AFSouth1, APEast1, APNortheast1, APNortheast2, APNortheast3, APSouth1, APSoutheast1, APSoutheast2, CACentral1, CNNorth1, CNNorthWest1, EUCentral1, EUNorth1, EUSouth1, EUWest1, EUWest2, EUWest3, MESouth1, SAEast1, USEast1, USEast2, USGovCloudEast1, USGovCloudWest1, USWest1, USWest2</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts32">BucketFolder:</span><span class="rvts6"> If the file should be uploaded to a sub-folder of the bucket, specify it here. The folder name is case sensitive, and the folder name entered must match the actual bucket folder name. If there’s a typo, it will either fail to successfully upload or create a new folder. Spaces, commas, ampersands, and underlines are okay to use in the folder name. Slashes and the vertical bar symbol are not allowed. The BucketFolder parameter is optional. If not specified, the file will be uploaded to the root folder of the bucket.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts32">AccessKey: </span><span class="rvts6">A long term credential for an IAM user or the AWS account root user, used to authenticate requests to AWS.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts32">PrivateKey:</span><span class="rvts6"> A long term credential for an IAM user or the AWS account root user, used to authenticate requests to AWS.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts32">KeepLocalFile:</span><span class="rvts6"> Can be set to Yes or No. Defaults to No if not set. A setting of Yes will retain the local file in the export path specified. A setting of No will delete the local file after a successful upload to AWS.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">Note: the Amazon bucket settings (BucketName, Region, AccessKey, PrivateKey, KeepLocalFile) are optional, but if the web bucket will be used, then all settings must be entered correctly, with the exception of the BucketFolder and KeepLocalFile, which are entirely optional.</span></p>
<h2 class="rvps8"><span class="rvts0"><span class="rvts31">Task Scheduler Setup&nbsp;</span></span></h2>
<p class="rvps2"><span class="rvts6">The Exports.ini is used to configure the export parameters. Windows Task Scheduler is used to set up the export to run as a scheduled task, using the export parameters from the Exports.ini. These steps describe how to set up the export as an automated task in Task Scheduler:</span></p>
<p class="rvps2"><span class="rvts6">&nbsp;</span></p>
<ol style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside;">
 <li class="rvps2"><span class="rvts6">Start Windows Task Scheduler and select “Action -&gt; Create Task”.&nbsp;</span></li>
 <li class="rvps2"><span class="rvts6">On the General tab, enter a name for the Task, such as “Ad Server Billing Discrepancy Export”.&nbsp;</span></li>
 <li class="rvps2"><span class="rvts6">On the Triggers tab, select “New”, and configure the schedule on which to run the export. For example, it could be configured to run weekly, on a specific day of the week, at a specific time.&nbsp;</span></li>
 <li class="rvps2"><span class="rvts6">On the Actions tab, press “New” and set the Action to "Start a program".&nbsp;</span></li>
 <li class="rvps2"><span class="rvts6">Browse to the exports.exe (in csi\prod\exe) for the Program/Script.&nbsp;</span></li>
 <li class="rvps2"><span class="rvts6">In the arguments section, enter the following: “Auto-AdServerBillDisc Section-xxxx” (without the quotes), where xxxx is set to the Section Name (in brackets) from the Exports.ini file for the parameters the export should use.&nbsp;</span></li>
</ol>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">For example, using the Section Name of “PodBillDisc” from the Exports.ini example above, the argument should be set to:</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts82">Auto-AdServerBillDisc Section-PodBillDisc</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">7. Enter the location of the Traffic.ini for the Start In field, typically csi\prod\data.&nbsp;</span></p>
<p class="rvps2"><img width="344" height="376" alt="" style="padding : 1px;" src="lib/NewItem1306.png"></p>
<p class="rvps2"><span class="rvts6">8. Save the Scheduled Task.&nbsp;</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">Once the task has been configured in Task Scheduler, it will run on the defined schedule.</span></p>
<h2 class="rvps8"><span class="rvts0"><span class="rvts31">Export Details</span></span></h2>
<p class="rvps2"><span class="rvts6">The Ad Server Billing Discrepancy export creates a CSV file that can be opened in Excel.</span></p>
<p class="rvps2"><img width="639" height="84" alt="" style="padding : 1px;" src="lib/NewItem1305.png"></p>
<p class="rvps2"><span class="rvts6">The following information is shown on the export:</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts32">Contract: </span><span class="rvts6">displays the contract number.&nbsp;</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts32">External Contract Number:</span><span class="rvts6"> for systems that get digital contracts pushed to Counterpoint from an external system, the external system order number.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts32">Advertiser/Product:</span><span class="rvts6"> displays the advertiser name and product.&nbsp;</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts32">ID:</span><span class="rvts6"> the digital line item ID number.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts32">External Line ID:</span><span class="rvts6"> for systems that get digital contracts pushed to Counterpoint from an external system, the external system line number.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts32">Vehicle:</span><span class="rvts6"> the vehicle name.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts32">Ad Server Vendor:</span><span class="rvts6"> the name of the Ad Server from the vehicle.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts32">Ad Location:</span><span class="rvts6"> the ad location name.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts32">Date Range:</span><span class="rvts6"> the line start and end date.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts32">Price Type:</span><span class="rvts6"> CPM or Flat Rate.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts32">Impressions Ordered:</span><span class="rvts6"> the Impression Goal from the contract line.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts32">Total Billed:</span><span class="rvts6"> the cumulative total number of impressions billed, which can include over-delivery.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts32">Total Invoiced:</span><span class="rvts6"> the cumulative total number of impressions invoiced, which is the number of billed impressions up to the Impression Goal amount.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts32">Posted:</span><span class="rvts6"> the number of posted impressions for the month, retrieved either from an Ad Server or by manually entering them in the Manual Posting screen.&nbsp;</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts32">Difference:</span><span class="rvts6"> prior to invoicing the selected month, the difference is the posted amount for the month plus the total invoiced subtracted from the impressions ordered. After the selected month has been invoiced, the difference is the total invoiced subtracted from the impressions ordered. Under-delivery is shown with a minus sign.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts32">Status:</span><span class="rvts6"> a status of “Missing” indicates there are no posted impression records for the month for a line.</span></p>
<p class="rvps2"><span class="rvts6"></span><span class="rvts6"></span></p>

            </div>
            
            
        </div>  <!-- /#topic-content -->
    </article>

    <footer></footer>

  </div>  <!-- /#main -->

  <div class="mask" data-toggle="sm-nav-expanded"></div>
  
  <!-- Modal -->
  <div class="modal fade" id="hndModal" tabindex="-1" role="dialog" aria-labelledby="hndModalLabel">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="hndModalLabel"></h4>
        </div>
        <div class="modal-body">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary modal-btn-close" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Splitter -->
  <div id="hnd-splitter" style="left: 350px"></div>  

  <!-- Scripts -->
  <script src="vendors/jquery-3.5.1/jquery.min.js"></script>
  <script src="vendors/bootstrap-3.4.1/js/bootstrap.min.js"></script>
  <script src="vendors/bootstrap-3.4.1/js/ie10-viewport-bug-workaround.js"></script>
  <script src="vendors/markjs-8.11.1/jquery.mark.min.js"></script>
  <script src="vendors/uri-1.19.2/uri.min.js"></script>
  <script src="vendors/imageMapResizer-1.0.10/imageMapResizer.min.js"></script>
  <script src="vendors/headroom-0.11.0/headroom.min.js"></script>
  <script src="vendors/jstree-3.3.10/jstree.min.js"></script>  
  <script src="vendors/interactjs-1.9.22/interact.min.js"></script>  

  <!-- HelpNDoc scripts -->
  <script src="js/polyfill.object.min.js"></script>
  <script src="_translations.js"></script>
  <script src="js/hndsd.min.js"></script>
  <script src="js/hndse.min.js"></script>
  <script src="js/app.min.js"></script>

  <!-- Init script -->
  <script>
    $(function() {
      // Create the app
      var app = new Hnd.App({
        searchEngineMinChars: 3
      });
      // Update translations
      hnd_ut(app);
	  // Instanciate imageMapResizer
	  imageMapResize();
	  // Custom JS
	  
      // Boot the app
      app.Boot();
    });
  </script>



</body>

</html>

